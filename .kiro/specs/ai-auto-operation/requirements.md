# 需求文档

## 简介

AI自动运营系统是一个面向内容创作者和MCN机构的全自动内容创作平台。系统提供从选题策划、内容创作到多平台发布的完整自动化链路，集成可视化工作流编辑器（支持Coze和n8n），并配备完善的用户管理和商业化功能。用户可以通过标准化模板快速搭建自动化工作流，实现规模化的内容生产和分发。

## 术语表

- **系统**: AI自动运营系统
- **内容创作者**: 个人创作者，使用系统进行内容生产和发布
- **MCN机构**: 多频道网络机构，管理多个创作者账号的组织
- **工作流**: 由多个节点组成的自动化内容处理流程
- **Coze工作流**: 基于Coze平台的可视化工作流编辑器
- **n8n工作流**: 基于n8n平台的自动化工作流编辑器
- **工作流模板**: 预定义的标准化工作流配置，用户可直接使用或修改
- **节点**: 工作流中的单个处理单元，执行特定功能
- **选题引擎**: 基于热点分析和用户偏好生成内容主题的AI模块
- **内容创作链路**: 从选题到创作到发布的完整自动化流程
- **RunningHub API Key**: 用于访问RunningHub服务的认证密钥
- **多平台发布**: 同时向抖音、小红书、视频号等平台发布内容的功能
- **文案提取**: 从视频或图片中提取文本内容的功能
- **二创文案**: 基于原始内容进行二次创作的文案
- **账号拆解**: 分析目标账号的内容策略和特点
- **视频拆解**: 分析视频内容的结构和要素
- **会员套餐**: 系统提供的付费订阅计划
- **积分**: 用户在系统中使用AI功能消耗的虚拟货币

## 需求

### 需求 1

**用户故事:** 作为内容创作者，我想要注册和登录系统，以便安全地访问我的账号和使用平台功能。

#### 验收标准

1. WHEN 新用户访问注册页面 THEN 系统应显示注册表单，包含邮箱、密码、验证码输入字段
2. WHEN 用户提交有效的注册信息 THEN 系统应创建新账号并发送验证邮件到用户邮箱
3. WHEN 用户点击邮件中的验证链接 THEN 系统应激活账号并允许用户登录
4. WHEN 已注册用户输入正确的登录凭证 THEN 系统应验证身份并创建会话令牌
5. WHEN 用户输入错误的登录凭证超过5次 THEN 系统应临时锁定账号15分钟并通知用户

### 需求 2

**用户故事:** 作为内容创作者，我想要选择和购买会员套餐，以便获得更多的AI功能使用额度和高级特性。

#### 验收标准

1. WHEN 用户访问套餐页面 THEN 系统应显示所有可用的会员套餐，包含功能对比和价格信息
2. WHEN 用户选择套餐并点击购买 THEN 系统应跳转到支付页面，支持微信支付和支付宝支付
3. WHEN 用户完成支付 THEN 系统应验证支付回调，更新用户会员状态并发放对应积分
4. WHEN 支付失败或超时 THEN 系统应回滚订单状态并提示用户重新支付
5. WHEN 用户的会员即将到期 THEN 系统应提前7天通过邮件和站内消息提醒用户续费

### 需求 3

**用户故事:** 作为内容创作者，我想要使用AI选题引擎，以便快速找到热门和适合我的内容主题。

#### 验收标准

1. WHEN 用户访问选题页面 THEN 系统应显示当前热门话题列表，包含热度指数和相关标签
2. WHEN 用户输入关键词搜索选题 THEN 系统应基于AI分析返回相关的选题建议和创作角度
3. WHEN 用户选择一个选题 THEN 系统应生成详细的选题大纲，包含标题建议、内容要点和目标受众分析
4. WHEN 用户保存选题 THEN 系统应将选题添加到用户的选题库并支持后续编辑
5. WHEN 系统分析用户历史数据 THEN 系统应推荐符合用户风格和受众偏好的个性化选题

### 需求 4

**用户故事:** 作为内容创作者，我想要使用全自动内容创作链路，以便从选题到发布一键完成整个内容生产流程。

#### 验收标准

1. WHEN 用户启动自动创作流程 THEN 系统应引导用户选择或输入选题，并确认目标平台和发布时间
2. WHEN 用户确认选题后 THEN 系统应自动生成文案脚本，包含标题、正文和标签建议
3. WHEN 文案生成完成 THEN 系统应根据文案自动生成或匹配视频素材，包括画面和配音
4. WHEN 内容创作完成 THEN 系统应预览最终内容并允许用户进行微调编辑
5. WHEN 用户确认发布 THEN 系统应自动将内容发布到选定的平台并返回发布状态

### 需求 5

**用户故事:** 作为内容创作者，我想要上传和管理Coze工作流，以便通过Webhook调用实现自动化内容处理。

#### 验收标准

1. WHEN 用户访问工作流管理页面 THEN 系统应显示已上传的工作流列表，包含名称、分类、标签和使用次数
2. WHEN 用户上传新工作流 THEN 系统应要求填写名称、描述、分类、标签、Webhook URL、积分消耗和演示材料
3. WHEN 用户上传演示材料 THEN 系统应支持上传演示视频和运行界面截图
4. WHEN 用户保存工作流 THEN 系统应验证Webhook URL的有效性并存储配置到数据库
5. WHEN 用户执行工作流 THEN 系统应调用Webhook URL，扣除对应积分，并显示执行结果

### 需求 6

**用户故事:** 作为内容创作者，我想要上传和管理n8n工作流，以便通过Webhook调用集成第三方服务。

#### 验收标准

1. WHEN 用户访问n8n工作流页面 THEN 系统应显示已上传的n8n工作流列表，支持按分类和标签筛选
2. WHEN 用户上传n8n工作流 THEN 系统应要求配置Webhook URL、API Key和积分消耗
3. WHEN 用户填写工作流说明 THEN 系统应提供富文本编辑器，支持添加使用步骤和注意事项
4. WHEN 用户测试工作流 THEN 系统应发送测试请求到Webhook并显示返回的输入输出数据
5. WHEN 工作流执行出错 THEN 系统应记录错误日志并向用户显示详细的错误信息

### 需求 7

**用户故事:** 作为内容创作者，我想要浏览和使用工作流模板库，以便快速搭建常见的自动化场景。

#### 验收标准

1. WHEN 用户访问模板库页面 THEN 系统应展示分类的工作流模板，包含模板名称、描述和使用次数
2. WHEN 用户点击模板详情 THEN 系统应显示工作流预览图、功能说明和所需的配置参数
3. WHEN 用户选择使用模板 THEN 系统应复制模板到用户的工作流列表并打开编辑器
4. WHEN 用户上传自定义工作流作为模板 THEN 系统应验证工作流格式并添加到模板库供其他用户使用
5. WHEN 用户搜索模板 THEN 系统应根据关键词匹配模板名称、描述和标签并返回相关结果

### 需求 8

**用户故事:** 作为内容创作者，我想要使用文案提取和二创工具，以便快速从现有内容中获取灵感并生成新内容。

#### 验收标准

1. WHEN 用户输入视频链接到文案提取工具 THEN 系统应提取视频中的文案内容并以结构化格式展示
2. WHEN 提取完成 THEN 系统应显示提取的文案文本，包括时间戳和内容分段
3. WHEN 用户将提取的文案输入到二创工具 THEN 系统应分析原文风格并生成多个改写版本
4. WHEN 用户选择仿写模式 THEN 系统应生成保持原文风格但内容原创的新文案
5. WHEN 用户保存生成的文案 THEN 系统应将文案存储到内容库并支持后续在工作流中使用

### 需求 9

**用户故事:** 作为内容创作者，我想要使用账号和视频拆解工具，以便学习优秀账号的运营策略和内容创作技巧。

#### 验收标准

1. WHEN 用户输入目标账号链接 THEN 系统应抓取该账号的历史内容数据并进行分析
2. WHEN 账号分析完成 THEN 系统应展示内容类型分布、发布频率、互动数据趋势和爆款内容特征
3. WHEN 用户选择特定视频进行拆解 THEN 系统应分析视频的镜头切换、文案节奏、音乐使用和视觉元素
4. WHEN 拆解完成 THEN 系统应生成可视化的时间轴分析和关键创作要素总结
5. WHEN 用户请求导出分析报告 THEN 系统应生成PDF格式的详细报告供下载

### 需求 10

**用户故事:** 作为内容创作者，我想要管理多个社交媒体账号，以便在一个平台上统一管理不同平台的内容发布。

#### 验收标准

1. WHEN 用户访问账号管理页面 THEN 系统应显示已连接的账号列表，包括抖音、小红书和视频号
2. WHEN 用户添加新账号 THEN 系统应引导用户完成OAuth授权流程并安全存储访问凭证
3. WHEN 用户选择账号进行内容发布 THEN 系统应根据平台特性调整内容格式和发布选项
4. WHEN 用户删除已连接的账号 THEN 系统应撤销授权并清除相关的访问凭证
5. WHEN 系统检测到账号授权过期 THEN 系统应提示用户重新授权

### 需求 11

**用户故事:** 作为MCN机构管理员，我想要管理多个创作者账号，以便统一监控和协调团队的内容生产。

#### 验收标准

1. WHEN 管理员访问团队管理页面 THEN 系统应显示所有团队成员列表和他们的权限设置
2. WHEN 管理员添加新成员 THEN 系统应发送邀请邮件并允许设置成员的角色和权限
3. WHEN 管理员查看团队数据 THEN 系统应展示团队整体的内容产出量、发布数据和消耗统计
4. WHEN 管理员分配积分配额 THEN 系统应允许为不同成员设置每月可用的积分上限
5. WHEN 成员超出配额 THEN 系统应阻止该成员继续使用AI功能并通知管理员

### 需求 12

**用户故事:** 作为内容创作者，我想要查看内容发布效果数据，以便优化我的内容策略。

#### 验收标准

1. WHEN 用户访问数据分析页面 THEN 系统应显示已发布内容的播放量、点赞数、评论数和分享数
2. WHEN 用户选择特定时间范围 THEN 系统应过滤并展示该时间段内的数据趋势图表
3. WHEN 用户点击单个内容 THEN 系统应显示该内容的详细数据，包括受众画像和流量来源
4. WHEN 系统分析数据 THEN 系统应生成内容表现洞察和优化建议
5. WHEN 用户导出数据报告 THEN 系统应生成Excel格式的详细数据报表供下载

### 需求 13

**用户故事:** 作为内容创作者，我想要配置外部API集成，以便使用更多第三方AI服务增强创作能力。

#### 验收标准

1. WHEN 用户访问API配置页面 THEN 系统应显示支持的API服务列表和配置状态
2. WHEN 用户输入有效的API Key THEN 系统应验证密钥的有效性并保存配置
3. WHEN 用户输入无效的API Key THEN 系统应显示错误提示并拒绝保存
4. WHEN API Key配置成功 THEN 系统应在工作流节点库中启用对应的服务节点
5. WHEN 系统调用外部API失败 THEN 系统应记录错误日志并向用户显示友好的错误消息

### 需求 14

**用户故事:** 作为内容创作者，我想要系统提供响应式界面，以便在不同设备上都能流畅使用系统功能。

#### 验收标准

1. WHEN 用户在桌面浏览器访问系统 THEN 系统应显示完整的多列布局界面
2. WHEN 用户在移动设备访问系统 THEN 系统应自动调整为单列布局并优化触摸交互
3. WHEN 用户调整浏览器窗口大小 THEN 系统应动态调整布局以适应新的视口尺寸
4. WHEN 用户在平板设备访问系统 THEN 系统应提供适合中等屏幕的优化布局
5. WHEN 界面元素重新排列 THEN 系统应保持所有功能的可访问性和可用性
